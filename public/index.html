<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="login&signup.css"> 
        <title>BFCAI</title>

    </head>
    <body>
        <div class="container">
            <form class="form " id="login">
                <h1 class="form_Title">login</h1>
                <div class="form__message form__message--error">

                </div>
                <div class="form__input-group">
                    <input type="text" class="form__input" id="_email" autofocus placeholder="Email ex: emaple@fci.bu.edu.eg ">
                    <div class="form__input-error-message">
                        
                    </div>
                </div>
                <div class="form__input-group">
                    <input type="password" id="_password" class="form__input form__input--error" autofocus placeholder="password at least 8 character ">
                    <div class="form__input-error-message">
                        
                    </div>
                </div>
                <button class="form__button" id="_login" formaction="/html/index.html">Countinue</button>
                
                <p class="form__text">
                    <a class="form__link" href="#" id="LinkCreatAccount">Don't have an Account ? Creat Account </a>
                </p>
            </form>
            <form class="form form__hidden" id="CreateAcount">
                <h1 class="form_Title">CreateAcount</h1>
                <div class="form__message form__message--error">
                   
                </div>
                <div class="form__input-group">
                    <input type="text" class="form__input" id="Username" autofocus placeholder="user name">
                    <div class="form__input-error-message">
                    </div>
                </div>
                <div class="form__input-group">
                    <input type="text" id="email" class="form__input" autofocus placeholder="E-mail ex: emaple@fci.bu.edu.eg">
                    <div class="form__input-error-message">
                    </div>
                </div>
                <div class="form__input-group">
                    <input type="password" id="password" class="form__input form__input--error" autofocus placeholder="password at least 8 character ">
                    <div class="form__input-error-message">
                        
                    </div>
                </div>
                <div class="form__input-group">
                    <input type="password" id="repassword" class="form__input form__input--error" autofocus placeholder="Re-Enter the password ">
                    <div class="form__input-error-message">
                        
                    </div>
                </div>
                
                <button class="form__button" id="_singup">Countinue</button>
                <p class="form__text">
                    <a class="form__link" href="#" id="LinkLogin">Already have an Account ? Login</a>
                </p>
                
            </form>
        </div>
        <script src="login.js"></script>
       
    </body>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getDatabase } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";
        import { getAuth, createUserWithEmailAndPassword ,signInWithEmailAndPassword} from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyC5fT6Cg3BGDrFHqddpifa4hsNUE9ooH9w",
          authDomain: "bfcai-797f4.firebaseapp.com",
          databaseURL: "https://bfcai-797f4-default-rtdb.firebaseio.com",
          projectId: "bfcai-797f4",
          storageBucket: "bfcai-797f4.appspot.com",
          messagingSenderId: "943897561489",
          appId: "1:943897561489:web:9b92d8dbc202fed0113230",
          measurementId: "G-W7R2MEK10Q"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database=getDatabase(app);
        const auth = getAuth();
        const analytics = getAnalytics(app);

        /*_singup.addEventListener('click',(e)=>{
            var email=document.getElementById('email').value;
            var email=document.getElementById('password').value;

            createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                // Signed in 
                const user = userCredential.user;
                alert('success message');
                // ...
            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                alert(errorMessage);
                // ..
            });
        })*/

        document.getElementById("_singup").addEventListener("click", e => {
        e.preventDefault(); // Stop the form from submitting
        var email = document.getElementById("email").value;
        var password = document.getElementById("password").value;
        createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
        // Signed in 
        const user = userCredential.user;
        window.location.href='homeScreen.html'
        
    
    // ...
        })
            .catch((error) => {
             const errorCode = error.code;
             const errorMessage = error.message;
             alert(`${errorMessage} ${password}`);
     // ..
  });
    });
   document.getElementById("_login").addEventListener("click", e => {
        e.preventDefault(); // Stop the form from submitting
        var email = document.getElementById("_email").value;
        var password = document.getElementById("_password").value;
        signInWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
            // Signed in 
            const user = userCredential.user;
            window.location.href='homeScreen.html'
            // ...
        })
        .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            alert(`${errorMessage}`);
        });
    });
    
      </script>
</html>